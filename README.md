# ğŸ”¬ Entropy Lab v1.0

**Professional entropy generation and analysis laboratory for Flipper Zero**

ğŸ“ˆ *A sophisticated random number generator that combines multiple hardware entropy sources to produce cryptographically secure random data*

---

## ğŸ¯ **Overview**

Entropy Lab transforms your Flipper Zero into a professional-grade entropy generation and analysis laboratory. Using multiple independent hardware sources, advanced cryptographic mixing, and comprehensive statistical analysis, it produces high-quality random data suitable for security applications, research, and cryptographic use cases.

## ğŸ“¸ **Screenshots**

*[Screenshots will be added here]*

---

## âœ¨ **Key Features**

### ğŸ”¬ **Multi-Source Entropy Collection**
- **ğŸ¯ Hardware TRNG**: STM32WB55 True Random Number Generator (32 bits/sample)
- **ğŸ“¡ RF Atmospheric Noise**: Sub-GHz RSSI environmental entropy (10 bits/sample)  
- **ğŸŒ¡ï¸ Infrared Ambient Noise**: IR sensor environmental entropy (8 bits/sample)
- **âš™ï¸ Configurable Sources**: Mix and match entropy sources for your needs

### ğŸ§ª **Advanced Cryptographic Processing**
- **ğŸ” Hardware AES Mixing**: STM32 AES acceleration for entropy pool mixing
- **ğŸ”„ Software XOR Mixing**: High-performance software fallback option
- **ğŸ² 4KB Entropy Pool**: Large buffer with sophisticated mixing algorithms
- **ğŸ“Š Statistical Analysis**: Real-time entropy quality assessment

### ğŸ›ï¸ **Professional Analysis Tools**

#### ğŸ“Š **Real-Time Visualization**
- Live entropy generation visualization
- Random walk patterns
- Pixel-based randomness display
- Generation statistics and rates

#### ğŸ“ˆ **Byte Distribution Analysis**
- Real-time histogram of generated bytes
- Statistical distribution visualization
- Quality assessment indicators

#### ğŸ“¡ **Entropy Source Statistics**
- Per-source contribution tracking
- Bits/second rates for each source
- Source comparison and analysis

#### ğŸ”¬ **Quality Testing Suite**
- Chi-square distribution tests
- Bit frequency analysis  
- Runs tests for pattern detection
- Configurable test sizes (4KB, 8KB, 16KB)
- Statistical quality scoring

### ğŸ—ï¸ **Cryptographic Passphrase Generator**
- **ğŸ“š EFF Wordlists**: Industry-standard diceware wordlists
- **ğŸ”’ Cryptographically Secure**: Rejection sampling eliminates modulo bias
- **ğŸ“– Multiple Wordlists**: Embedded + SD card support for larger lists
- **âš–ï¸ Configurable Length**: 3-12 words with entropy calculations
- **ğŸ¯ Professional Grade**: Suitable for password managers and security applications

### ğŸ“¤ **Flexible Output Options**
- **ğŸ–¥ï¸ UART Output**: Hardware serial output via GPIO pins
- **ğŸ’¾ File Storage**: Save entropy to SD card files
- **ğŸ“Š Always-On Visualization**: Real-time entropy monitoring

---

## ğŸ› ï¸ **Installation**

### **Method 1: Pre-built Release**
1. Download `entropylab.fap` from the releases
2. Copy to your Flipper Zero: `/ext/apps/Tools/entropylab.fap`
3. Launch from **Tools** â†’ **Entropy Lab**

### **Method 2: Build from Source**
```bash
# Clone the repository
git clone https://github.com/flipper/EntropyLab.git
cd EntropyLab

# Build with ufbt
ufbt

# Deploy to Flipper
ufbt launch
```

---

## ğŸ® **Usage Guide**

### **ğŸš€ Quick Start**
1. Launch **Entropy Lab** from Tools menu
2. Select **Start Generator** to begin entropy collection
3. Configure sources and output in **Config** menu
4. Monitor generation in **Visualize** or **Sources** views

### **âš™ï¸ Configuration Options**

#### **Entropy Sources**
- **All**: Combined hardware, RF, and IR sources (recommended)
- **HW Only**: Hardware TRNG only (fastest, high quality)
- **HW+RF**: Hardware + atmospheric RF noise
- **HW+IR**: Hardware + infrared ambient noise  
- **RF+IR**: Pure environmental sources

#### **Pool Mixing**
- **HW AES**: Hardware-accelerated AES mixing (default, fastest)
- **SW XOR**: Software XOR mixing (fallback, compatible)

#### **Output Mode**
- **UART**: Hardware serial output via GPIO pins
- **File**: Save random data to SD card

#### **Performance Tuning**
- **Poll Rate**: 1ms - 500ms (entropy collection frequency)
- **Visual Rate**: 100ms - 1s (display refresh rate)

### **ğŸ“Š Analysis Features**

#### **ğŸ”¬ Quality Testing**
1. Go to **Test Quality**
2. Select test size (4KB - 16KB)
3. Watch real-time statistical analysis:
   - Chi-square distribution test
   - Bit frequency analysis
   - Runs test for patterns
   - Overall quality score

#### **ğŸ“ˆ Distribution Analysis**
- View **Distribution** for real-time byte histogram
- Monitor statistical distribution of generated data
- Verify uniform distribution quality

#### **ğŸ“¡ Source Performance**
- View **Sources** for per-source statistics
- Monitor contribution from each entropy source
- Toggle between total bits and bits/second display

### **ğŸ—ï¸ Secure Passphrase Generation**

#### **Built-in Wordlist**
1. Go to **Passphrase Generator**
2. Configure word count (3-12 words)
3. Generate cryptographically secure passphrases
4. Each word provides ~10.85 bits of entropy

#### **Extended Wordlists (SD Card)**
- Place EFF wordlist files on SD card
- Supports larger wordlists for increased entropy
- Automatic indexing for fast access
- Background entropy collection during generation

---

## ğŸ”§ **Technical Specifications**

### **ğŸ¯ Performance**
- **Generation Rate**: 10-100 KB/s (configuration dependent)
- **Entropy Pool**: 4096 bytes with cryptographic mixing
- **Output Buffer**: 256 bytes for efficient streaming
- **Memory Usage**: ~4KB stack, optimized for Flipper Zero

### **ğŸ” Security Features**
- **Rejection Sampling**: Eliminates modulo bias in passphrase generation
- **Cryptographic Mixing**: Hardware AES or software XOR algorithms
- **Multiple Sources**: Independent entropy sources prevent single-point failure
- **Quality Monitoring**: Continuous statistical quality assessment

### **ğŸ“Š Statistical Analysis**
- **Chi-square Tests**: Distribution uniformity verification
- **Bit Frequency**: Bias detection in generated bits
- **Runs Analysis**: Pattern detection in output sequences
- **Shannon Entropy**: Real-time entropy quality estimation

### **ğŸ¨ Visual Feedback**
- **ğŸš¦ LED Status**: Blinking green during collection, solid red when stopped
- **ğŸ“Š Real-time Graphs**: Live visualization of entropy generation
- **ğŸ“ˆ Statistics Display**: Comprehensive performance monitoring
- **ğŸ² Random Patterns**: Visual representation of randomness quality

---

## ğŸ”¬ **Scientific Applications**

### **ğŸ“ Research & Education**
- Study entropy source characteristics
- Analyze randomness quality in real-time
- Compare different entropy collection methods
- Educational tool for understanding cryptographic randomness

### **ğŸ” Security Applications**
- Generate cryptographically secure passphrases
- Seed cryptographic key generation
- Security research and testing
- Random data for cryptographic applications

### **ğŸ’» System Integration**
```bash
# Linux entropy pool seeding
cat /dev/ttyACM0 | rngd -f -r /dev/stdin

# Collect random data for applications
dd if=/dev/ttyACM0 of=random.bin bs=1024 count=1024

# Real-time entropy monitoring
cat /dev/ttyACM0 | hexdump -C
```

---

## ğŸ—ï¸ **Architecture**

### **ğŸ”„ Entropy Flow**
```
Hardware Sources â†’ Collection â†’ Pool Mixing â†’ Quality Analysis â†’ Output
      â†“               â†“            â†“              â†“              â†“
   STM32 TRNG    Individual    4KB Buffer    Statistical    UART/File
   RF Noise      Functions     AES/XOR Mix   Testing        Streaming
   IR Noise      Bit Rating    Circular      Chi-square     Visualization
                 Pool Add      Position      Frequency
                 Statistics    Tracking      Runs Tests
```

### **ğŸ§µ Multi-threaded Design**
- **Main Thread**: UI and user interaction
- **Worker Thread**: Continuous entropy collection and mixing
- **IR Worker**: Persistent infrared noise collection
- **Index Builder**: Background wordlist indexing for passphrase generation

---

## ğŸ¤ **Contributing**

We welcome contributions! Please see our development guidelines:

### **ğŸ”§ Development Setup**
```bash
# Install ufbt for Flipper development
pip install ufbt

# Build the project
ufbt

# Deploy for testing
ufbt launch
```

### **ğŸ“‹ Code Style**
- Follow existing code patterns
- Add comprehensive logging
- Include statistical analysis for new entropy sources
- Maintain thread safety with proper mutex usage

---

## ğŸ“„ **License**

[License information will be added]

---

## ğŸ™ **Acknowledgments**

- **EFF Wordlists**: Electronic Frontier Foundation for diceware wordlists
- **Flipper Zero Team**: For the amazing platform and development tools
- **Cryptography Community**: For statistical testing methodologies and best practices

---

## ğŸ“ **Support**

- **Issues**: [GitHub Issues](https://github.com/flipper/EntropyLab/issues)
- **Documentation**: [Technical Docs](docs/)
- **Community**: [Flipper Zero Discord](https://discord.gg/flipper)

---

**ğŸ”¬ Entropy Lab - Professional entropy generation for Flipper Zero** ğŸ“ˆ